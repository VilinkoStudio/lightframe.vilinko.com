import{l as _,s as m,k as b,J as o,g as n,m as p,p as i,N as a}from"./q-BVGk4Zpa.js";import{m as w}from"./q-DZ0eJeMq.js";import{_ as s}from"./q-xbjexvGE.js";import{D as c,L as d}from"./q-PVCjzz3w.js";const f=(e,t)=>{const l=_[0];return e.target===t&&(l.isVisible.value=!1)},y=Object.freeze(Object.defineProperty({__proto__:null,s_YhqKeI3bVAA:f},Symbol.toStringTag,{value:"Module"})),g=w,k=Object.freeze(Object.defineProperty({__proto__:null,s_1azw0r0Jby4:g},Symbol.toStringTag,{value:"Module"})),T=()=>{const e=_[0];return e.agreedToTerms.value=!e.agreedToTerms.value},h=Object.freeze(Object.defineProperty({__proto__:null,s_BzWm8bC8wHw:T},Symbol.toStringTag,{value:"Module"})),u=e=>!e.agreedToTerms.value,O=e=>e.agreedToTerms.value,D=()=>s(()=>Promise.resolve().then(()=>k),void 0),M=()=>s(()=>Promise.resolve().then(()=>q),void 0),V=()=>s(()=>Promise.resolve().then(()=>h),void 0),A=()=>s(()=>import("./q-B8y3uYUO.js"),[]),S=()=>s(()=>Promise.resolve().then(()=>y),void 0),z=()=>s(()=>Promise.resolve().then(()=>E),void 0),I=()=>s(()=>import("./q-68s8gq12.js"),[]),P=e=>{m(n(D,"s_1azw0r0Jby4"));const t=b(n(z,"s_yTYXkkFgn7c"));return o("div",{"q-e:click":n(S,"s_YhqKeI3bVAA",[e])},{class:"modal-overlay"},o("div",null,{class:"modal-content"},[o("div",null,{class:"modal-header"},[o("h2",null,null,"下载 LightFrame",3,null),o("button",{"q-e:click":n(M,"s_9UQWCwwVVOk",[e])},{class:"close-btn"},"×",2,null)],1,null),o("div",null,{class:"modal-body"},[o(p,null,{value:t,onPending:()=>o("div",null,{class:"version-info"},"正在获取版本信息...",3,"1d_0"),onRejected:()=>o("div",null,{class:"version-info"},"获取版本信息失败",3,"1d_1"),onResolved:l=>{const r=l.find(v=>v.name==="LightFrame");return r?o("div",null,{class:"version-info"},["最新版本: ",i(r,"version")," (更新于 ",i(r,"last_updated"),")"],1,"1d_2"):null}},null,3,"1d_3"),o("a",{href:e.agreedToTerms.value?c.X64:void 0},{class:"link-wrapper","q-e:click":n(A,"s_SzLI4j04M0k")},o("button",{disabled:a(u,[e])},{class:"download-link"},"Windows x64 (推荐)",3,null),1,null),o("a",{href:e.agreedToTerms.value?c.X86:void 0},{class:"link-wrapper","q-e:click":n(I,"s_yuz0KrXr53M")},o("button",{disabled:a(u,[e])},{class:"download-link"},"Windows x86",3,null),1,null),o("div",null,{class:"terms-container"},o("label",null,{class:"terms-label"},[o("input",{checked:a(O,[e]),"q-e:change":n(V,"s_BzWm8bC8wHw",[e])},{type:"checkbox"},null,2,null),o("span",null,{class:"terms-text"},["在使用前您需要阅读并同意我们的",o("a",null,{href:d.TOS,class:"terms-link"},"《服务条款》",3,null),"和",o("a",null,{href:d.PRIVACY,class:"terms-link"},"《隐私政策》",3,null)],3,null)],1,null),1,null)],1,null)],1,null),0,"1d_4")},Y=Object.freeze(Object.defineProperty({__proto__:null,s_aXZ6b0EIZpU:P},Symbol.toStringTag,{value:"Module"})),j=async()=>{try{const t=await(await fetch("https://down1.vilinko.com/version.json")).text();try{const l=JSON.parse(t);return Array.isArray(l)?l:[l]}catch{try{return JSON.parse(`[${t}]`)}catch(l){return console.error("Failed to parse version info",l),[]}}}catch(e){return console.error("Failed to fetch version info",e),[]}},E=Object.freeze(Object.defineProperty({__proto__:null,s_yTYXkkFgn7c:j},Symbol.toStringTag,{value:"Module"})),L=()=>{const e=_[0];return e.isVisible.value=!1},q=Object.freeze(Object.defineProperty({__proto__:null,s_9UQWCwwVVOk:L},Symbol.toStringTag,{value:"Module"}));export{Y as D,g as s_1azw0r0Jby4,L as s_9UQWCwwVVOk,T as s_BzWm8bC8wHw,f as s_YhqKeI3bVAA,P as s_aXZ6b0EIZpU,j as s_yTYXkkFgn7c};

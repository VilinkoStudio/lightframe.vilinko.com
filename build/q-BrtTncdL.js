import{p as W,_ as b}from"./q-xbjexvGE.js";import{X as q,C as F,g as Y}from"./q-BVGk4Zpa.js";var _=(e=>(e[e.RouteName=0]="RouteName",e[e.ModuleLoaders=1]="ModuleLoaders",e[e.OriginalPathname=2]="OriginalPathname",e[e.RouteBundleNames=3]="RouteBundleNames",e))(_||{}),O=(e=>(e[e.Pathname=0]="Pathname",e[e.MenuLoader=1]="MenuLoader",e))(O||{});const j=()=>b(()=>import("./q-CXATW90A.js"),[]),R=new WeakMap,A=new Map,k="qaction",B="qloaders",ae="qfunc",ce="qdata",oe="q:route",ie="never",K=3,V=async(e,n,t=0)=>{const s=e.pathname,a=e.search,r=J(s,a,{actionId:n?.action?.id,loaderIds:n?.loaderIds});let c;n?.action||(c=A.get(r)),n?.preloadRouteBundles!==!1&&$(s,.8);let u;if(!c){const i=z(n?.action,n?.clearCache);n?.action&&(n.action.data=void 0),c=fetch(r,i).then(l=>{if(l.status===404&&n?.loaderIds&&t<K)return n.loaderIds=void 0,V(e,n,t+1);if(l.redirected){const f=new URL(l.url);if(!f.pathname.endsWith("/q-data.json")||f.origin!==location.origin){n?.isPrefetch||(location.href=f.href);return}}if((l.headers.get("content-type")||"").includes("json"))return l.text().then(f=>{const o=q(f);if(!o){location.href=e.href;return}if(n?.clearCache&&A.delete(r),o.redirect)location.href=o.redirect;else if(n?.action){const{action:d}=n,m=o.loaders[d.id];u=()=>{d.resolve({status:l.status,result:m})}}return o});n?.isPrefetch!==!0&&(location.href=e.href)}),n?.action||A.set(r,c)}return c.then(i=>(i||A.delete(r),u&&u(),i))},z=(e,n)=>{const t=e?.data;return t?t instanceof FormData?{method:"POST",body:t}:{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json; charset=UTF-8"}}:n?{cache:"no-cache",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}:void 0},y=e=>e.pathname+e.search+e.hash,C=(e,n)=>new URL(e,n.href),H=(e,n)=>e.origin===n.origin,T=e=>e.endsWith("/")?e:e+"/",D=({pathname:e},{pathname:n})=>{const t=Math.abs(e.length-n.length);return t===0?e===n:t===1&&T(e)===T(n)},X=(e,n)=>e.search===n.search,G=(e,n)=>X(e,n)&&D(e,n),J=(e,n,t)=>{let s=n??"";if(t?.actionId&&(s+=(s?"&":"?")+k+"="+encodeURIComponent(t.actionId)),t?.loaderIds)for(const a of t.loaderIds)s+=(s?"&":"?")+B+"="+encodeURIComponent(a);return e+(e.endsWith("/")?"":"/")+"q-data.json"+s},le=(e,n)=>{const t=e.href;if(typeof t=="string"&&typeof e.target!="string"&&!e.reload)try{const s=C(t.trim(),n.url),a=C("",n.url);if(H(s,a))return y(s)}catch(s){console.error(s)}else if(e.reload)return y(C("",n.url));return null},fe=(e,n)=>{if(e){const t=C(e,n.url),s=C("",n.url);return!D(t,s)}return!1},ue=e=>e&&typeof e.then=="function",de=(e,n,t,s,a)=>F(Y(j,"s_LRYIAjb9kaI",[n,e,t]),{container:a,serializationStrategy:s}),he=(e,n,t,s,a=!1)=>{if(n!=="popstate"){const r=G(t,s),c=t.hash===s.hash;if(!r||!c){const u={_qRouterScroll:Z()};a?e.history.replaceState(u,"",y(s)):e.history.pushState(u,"",y(s))}}},Z=()=>({x:0,y:0,w:0,h:0}),$=(e,n=.8)=>{e=e.endsWith("/")?e:e+"/",e=e.length>1&&e.startsWith("/")?e.slice(1):e,W(e,n)};function x(e,n){const t=v(e),s=P(e),a=v(n),r=P(n);return L(e,t,s,n,a,r)}function L(e,n,t,s,a,r){if(s.startsWith("/build/"))return null;let c=null;for(;n<t;){const u=e.charCodeAt(n++),i=s.charCodeAt(a++);if(u===91){const l=U(e,n),f=n+(l?3:0),o=N(e,f,t,93),d=e.substring(f,o),m=N(e,o+1,t,47),h=e.substring(o+1,m);n=o+1;const g=a-1;if(l){const S=ee(d,h,s,g,r,e,n+h.length+1,t);if(S)return Object.assign(c||(c={}),S)}const E=N(s,g,r,47,h);if(E==-1)return null;const I=s.substring(g,E);if(!l&&!h&&!I)return null;a=E,(c||(c={}))[d]=decodeURIComponent(I)}else if(u!==i&&!(isNaN(i)&&p(e,n)))return null}return w(e,n)&&w(s,a)?c||{}:null}function p(e,n){return e.charCodeAt(n)===91&&U(e,n+1)}function P(e){const n=e.length;return n>1&&e.charCodeAt(n-1)===47?n-1:n}function w(e,n){const t=e.length;return n>=t||n==t-1&&e.charCodeAt(n)===47}function v(e){return e.charCodeAt(0)===47?1:0}function U(e,n){return e.charCodeAt(n)===46&&e.charCodeAt(n+1)===46&&e.charCodeAt(n+2)===46}function N(e,n,t,s,a=""){for(;n<t&&e.charCodeAt(n)!==s;)n++;const r=a.length;for(let c=0;c<r;c++)if(e.charCodeAt(n-r+c)!==a.charCodeAt(c))return-1;return n-r}function ee(e,n,t,s,a,r,c,u){t.charCodeAt(s)===47&&s++;let i=a;const l=n+"/";for(;i>=s;){const f=L(r,c,u,t,i,a);if(f){let d=t.substring(s,Math.min(i,a));return d.endsWith(l)&&(d=d.substring(0,d.length-l.length)),f[e]=decodeURIComponent(d),f}const o=ne(t,s,l,i,s-1)+l.length;if(i===o)break;i=o}return null}function ne(e,n,t,s,a){let r=e.lastIndexOf(t,s);return r==s-t.length&&(r=e.lastIndexOf(t,s-t.length-1)),r>n?r:a}const Q=e=>e==null?e:(Object.getOwnPropertyNames(e).forEach(n=>{const t=e[n];t&&typeof t=="object"&&!Object.isFrozen(t)&&Q(t)}),Object.freeze(e)),me=async(e,n,t,s,a)=>{if(!Array.isArray(e))return null;for(const r of e){const c=r[_.RouteName],u=x(c,s);if(!u)continue;const i=r[_.ModuleLoaders],l=r[_.RouteBundleNames],f=new Array(i.length),o=[];i.forEach((m,h)=>{M(m,o,g=>f[h]=g)});let d;{const m=te(n,s);M(m,o,h=>d=h?.default)}return o.length>0&&await Promise.all(o),[c,u,f,Q(d),l]}return null},M=(e,n,t,s)=>{if(typeof e=="function"){const a=R.get(e);if(a)t(a);else{const r=e();typeof r.then=="function"?n.push(r.then(c=>{R.set(e,c),t(c)})):r&&t(r)}}},te=(e,n)=>{if(e){n=n.endsWith("/")?n:n+"/";const t=e.find(s=>s[O.Pathname]===n||n.startsWith(s[O.Pathname]));if(t)return t[O.MenuLoader]}};export{A as C,ie as D,ae as Q,ce as a,H as b,me as c,de as d,oe as e,he as f,le as g,ue as h,G as i,V as l,$ as p,fe as s,C as t};
